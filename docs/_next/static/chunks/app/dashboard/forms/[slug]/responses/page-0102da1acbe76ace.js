(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[828],{7211:function(e,s,t){Promise.resolve().then(t.bind(t,3398))},3398:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var r=t(9268),n=t(6006),a=t(6628),l=t(8679),i=t(8268),d=t(7473),o=t(2740),c=t(5846),u=t.n(c);function h(e){var s,t,c;let{params:h}=e,f=(0,a.v9)(i.Hz),m=h.slug,p=(0,a.v9)(l.Jo),x=(0,a.v9)(d.VM),j=(0,a.I0)(),v=(0,o.j)();return(0,n.useEffect)(()=>()=>{j((0,d.DK)())},[]),(0,n.useEffect)(()=>{f.loading||(j((0,l.ap)({username:f.userDetails.id,id:m})),j((0,d.Ku)({username:f.userDetails.id,id:m})))},[f,m]),(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"p-4 shadow-md z-10 flex",children:[(0,r.jsx)("h1",{className:"text-xl line-clamp-1 flex-1",children:null===(s=p.detailForm)||void 0===s?void 0:s.title}),(0,r.jsxs)("h1",{className:"text-xl line-clamp-1",children:[null===(t=p.detailForm)||void 0===t?void 0:t.total," responses"]})]}),(0,r.jsxs)("div",{className:"overflow-y-auto overflow-x-hidden p-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"px-4",children:"Share this url to collect responses"}),(0,r.jsx)("p",{className:"bg-indigo-900 p-4 text-white rounded-md my-4",children:(0,r.jsxs)(u(),{href:"/collect/"+m,children:[v,"collect/",m]})})]}),(0,r.jsxs)("table",{className:"table border",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:null===(c=p.detailForm)||void 0===c?void 0:c.questions.map((e,s)=>(0,r.jsx)("th",{children:(0,r.jsx)("div",{className:"line-clamp-1",children:e.title})},s))})}),(0,r.jsx)("tbody",{children:x.data.map((e,s)=>(0,r.jsx)("tr",{children:e.data.map((e,s)=>(0,r.jsx)("td",{children:e},s))},s))})]})]})]})}},7473:function(e,s,t){"use strict";t.d(s,{DK:function(){return o},ZP:function(){return u},Ku:function(){return i},VM:function(){return c}});var r=t(7539),n=t(2740);async function a(e,s){let t=await fetch((0,n.l)()+"users/"+e+"/forms/"+s+"/responses",{method:"GET",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}});if(200!==t.status)throw Error("unable to fetch responses!");return await t.json()}let l={data:[],status:"init",fetchError:""},i=(0,r.hg)("responses/fetch",async e=>{let{username:s,id:t}=e;return await a(s,t)}),d=(0,r.oM)({name:"responses",initialState:l,reducers:{clearResponses:e=>l},extraReducers:e=>{e.addCase(i.pending,e=>{e.status="loading",e.fetchError=""}).addCase(i.fulfilled,(e,s)=>{e.status="idle",e.data=s.payload}).addCase(i.rejected,(e,s)=>{e.status="idle",e.fetchError=s.error.message})}}),{clearResponses:o}=d.actions,c=e=>e.responses;var u=d.reducer}},function(e){e.O(0,[899,846,835,667,488,744],function(){return e(e.s=7211)}),_N_E=e.O()}]);